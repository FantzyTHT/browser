<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Browser</title>
    <style>
        /* Basic CSS styles */
    </style>
</head>
<body>

<div id="browser-container">
    <div id="address-bar">
        <input type="text" id="url-input" placeholder="Enter a URL (e.g., https://www.example.com)">
        <button onclick="loadPage()">Go</button>
    </div>
    <div id="content-area">
        <iframe id="webview" src="about:blank"></iframe>
    </div>
</div>

<script>
    function loadPage() {
        const url = document.getElementById("url-input").value.trim();

        if (url) {
            // Make sure the URL starts with http:// or https://
            const formattedURL = url.startsWith('http://') || url.startsWith('https://') ? url : 'https://' + url;

            // Fetch content from the Netlify serverless function
            fetch(`https://your-site.netlify.app/.netlify/functions/proxy?url=${encodeURIComponent(formattedURL)}`)
                .then(response => response.json())
                .then(data => {
                    // You can display the content inside the iframe or handle it otherwise
                    document.getElementById("webview").srcdoc = data.content; // For simple HTML content
                })
                .catch(error => {
                    console.error("Error loading page:", error);
                    alert("Could not load the page.");
                });
        }
    }
</script>

</body>
</html>
